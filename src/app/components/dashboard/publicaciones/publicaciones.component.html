<div class="todo">
  <mat-toolbar>
    <h1>Mis Publicaciones</h1>
    
    <div class="items">
      <div class="filtro">
        <mat-form-field appearance="fill" class="no-padding">
          <mat-label>Filtrar por sección</mat-label>
          <mat-select name="seccion" ngModel #seccionInput="ngModel" (selectionChange)="filtrarPublicaciones($event.value)">
            <mat-option *ngFor="let item of seccion" [value]="item">
              {{ item }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
    </div>
   
    <div class="agregarPublicacion">
      <button mat-fab routerLink="/dashboard/publicaciones/crear-publicacion">
        <p>Agregar una nueva publicación</p>
      </button>
    </div>
  </mat-toolbar>

  <div class="row">
    <div class="col-md-4 p-4" *ngFor="let publicacion of publicaciones">
      <div
        class="card card-publi pointer"
        (click)="onPublicacionSelected(publicacion._id!)"
        matTooltip="Ver publicación"
      >
        <div class="card-header">
          {{ publicacion.titulo }}
        </div>
        <img
          [src]="'http://localhost:3000/' + publicacion.urlImg"
          class="img-card-top w-80"
        />
        
        <div class="class-footer">
          Fecha de publicación: {{ publicacion.fecha | date: "dd/MM/yyyy" }}
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="mat-elevation-z8" class="tam class example-container">
    
    <mat-form-field appearance="standard">
      <mat-label>Filtro</mat-label>
      <input
        matInput
        (keyup)="applyFilter($event)"
        placeholder="Ingrese su búsqueda"
        #input
      />
    </mat-form-field>
    <mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="imagenPublicacion">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Imagen</mat-header-cell
        >
        <mat-cell *matCellDef="let element">
          <span class="mobile-label">Imágen: </span>
          <img
            [src]="'http://localhost:3000/' + element.urlImg"
            width="100%"
            class="pointer circulo"
            (click)="openDialog(element)"
            matTooltip="Ver publicación"
          />
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="tituloPublicacion">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Título</mat-header-cell
        >
        <mat-cell *matCellDef="let element">
          <span class="mobile-label">Título: </span>
          {{ element.titulo }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="cuerpoPublicacion">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Descripción</mat-header-cell
        >
        <mat-cell *matCellDef="let element">
          <span class="mobile-label">Descripción: </span>
          {{ element.cuerpo }}
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="seccionPublicacion">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Sección</mat-header-cell
        >
        <mat-cell *matCellDef="let element">
          <span class="mobile-label">Sección: </span>
          {{ element.seccion }}
        </mat-cell>
      </ng-container>
      <ng-container matColumnDef="fechaPublicacion">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Fecha de publicación
        </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <span class="mobile-label">Fecha: </span>
          {{ element.fecha | date: "dd/MM/yyyy" }}
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </div> -->
</div>

